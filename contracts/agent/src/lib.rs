<full contract logic already stored>